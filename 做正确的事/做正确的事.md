# 做正确的事
英国某报曾经举办过一项有奖征答活动，题目是：在一个充气不足的热气球上，载着三位关系世界命运的科学家。第一位是环保专家，他可以拯救人类因环境污染而面临的厄运；第二位是核子专家，他有能力防止全球核战争使地球免遭毁灭绝境；第三位是粮食专家，能在不毛之地种植农作物使千万人脱离饥荒。此时热气球即将坠毁，必须丢一个人以减轻载重，使其余的两人得以存活，请问该丢下谁？问题刊出后，因为奖金数额庞大，讨论非常激烈。当大家正在讨论哪位科学家对世界影响更为重要，而且都认为自己是正确时，巨额的奖金却被一个小男孩拿走了。他的答案是——丢掉那个最胖的。

## 不忘初心

气球即将因为过重而坠毁，最急需解决的是如何减轻气球的重量。小男孩的答案恰恰是最该做的事，只有做了正确的事，再讨论其他才有意义。道理大家都懂，但为什么还有那么多人在讨论科学家对世界的重要性，而不顾眼前急需解决的问题呢？我认为最重要的原因，是大家都忽略了问题的本质，忘记了初心。正确的事是和时间有相关性的，讨论科学家对世界的影响固然没有错，失去任何一位科学家都是世界的损失。但不是那个时刻，那个状态下该讨论的问题。

在我从事架构师和管理者的经历中，曾碰到过许多忘记初心的事。生产上出了不可用的故障时，还在和几个架构师讨论弥补方案对扩展性的影响，从而导致故障升级；在落实一项架构方案时，由于困难而放弃了架构设计的原则，导致落地失败。这些教训充分说明了不忘初心的重要性，因为大千世界有太多的干扰会让我们忘记问题的本质和解决问题的初心。上述有奖征答活动中，虽然芸芸众生中不乏智者，但最终却由一个根本不知道科学家是干嘛的小男孩坚持初心。所以坚持不忘初心往往又是困难的。

## 立刻停止错误的事

A君是我在拼多多敬佩的一位大局观的管理者。在与他讨论做正确的事这个话题时，有个观点让我印象深刻：做正确的事就是要立刻停止做错误的事。为什么会有这么深刻的印象，我觉得有两层含义：

### 如果错了，停止就是进步。

A君当时举了个例子：架构设计中有种设计原则叫，用“永道”隔离故障。大致的意思是系统与系统之间不要共用组件，这样在发生故障时可有效的缩小故障的范围。当时他发现微服务的系统和API网关共用了一个KV的存储，虽然共用的数据量不大，但大家都忽略了其引起故障的严重度。A君发现这一点后立刻提出了质疑，并要求终止这样错误的设计，却遭到架构师们，甚至主管的不屑。一向客气的他在此时一反常态的吼到：如果错了，立刻停止就是进步！

### 放下架子，知错则改

遗憾的是，高层并没有采纳A君的意见。根据墨菲定律，越是担心的事就越会发生。仅隔了1个月，由于网络抖动而造成共用KV存储故障，导致了某些微服务和网关同时不可用，服务故障时间超过了3小时，GMV损失超过十万。教训是惨痛的，可值得尊敬的是：当时未采纳意见的主管向大家主动承认了错误，并亲自协调分离存储，隔离系统的边界。对于一个管理者，这样的举动是不容易的。

Level越是高，年纪越是大，面子和架子对其的影响越是严重，就越怕承认自己的失误，往往容易放弃做正确的事的初心。对此我有切身的体会。虽然不愿意承认，但对于我这样有4-5年架构师经验的人，有时还真干不好一些细节的事。一次就真把事情搞砸了，眼看将会成为同行的笑柄，脑子里的第一反应竟是推卸责任。我为自己当时的第一反应感到羞耻的同时，也在思索着如何放下“有经验的人”这个架子，承认错误并做正确的事。好在事情不像想象中严重，但那份思想的煎熬却难以忘却。所以道理大家都懂，但能不能做到却能衡量一个人的品行。

## 如何做正确的事不是从成功经验中提炼，而是在失败中总结

有一个动物园，管理员发现猴子从笼子里跑出来了，于是开会讨论决定把笼子的高度从5米加到10米，因为之前他们这么做成功的防止了兔子的出逃。第二天不但猴子跑出来了，连袋鼠也一起逃走了。于是管理员一不做二不休，把所有笼子的高度加高到了100米，却仍然未能防止动物们的出逃。

看似成功的经验其实未能起到很好的引导作用，在程序架构领域尤为明显。因为大家系统架构和组织架构各不同，一个成功的案例运用到别人系统上有可能并不适宜。即便大家的架构一样，但那时那刻的方法也未必适合此时此刻状态。

在高可用和高扩展性平台存在一个有趣的驳轮：构建那些系统的目的就是防止频繁的失败，因此可以学习的机会就比较少。netflex公司很早就意识到了这个问题，所以他们引入了混乱猴子来制造麻烦。在一次一次的故障演练中，大家开始挑战“专业”经验，把精力投入到思考怎样才能做出适合自己的高可用的架构这件正确的事上来。



对了，在那个关不住动物的动物园里，有一天，出逃的猴子和袋鼠们闲聊，“你们看，那些人会不会继续加高你们的笼子？”袋鼠问。“很难说啊，”猴子说：“如果他们再继续忘记关门的话！”
